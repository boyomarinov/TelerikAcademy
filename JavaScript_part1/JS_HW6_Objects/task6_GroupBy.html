<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Javascript HW1</title>
    <link href="styles/js-console.css" rel="stylesheet" />
</head>
<body>
    <h3>Task 5 - Return youngest person from array</h3>
    <div>
        <span>var persons = [</span><br />
        <span>{firstname : "Gosho", lastname: "Petrov", age: 32},</span><br />
        <span>{firstname : "Bay", lastname: "Ivan", age: 81},</span><br />
        <span>{firstname : "Jorko", lastname: "Dimitrov", age: 17},</span><br />
        <span>{firstname : "Maria", lastname: "Milanova", age: 26}];</span>
    </div>

    <button onclick="Test()">GroupBy Firstname</button>
    <button onclick="Test2()">GroupBy Age</button>

    <div id="js-console"></div>

    <script src="scripts/js-console.js"></script>

    <script>
        function groupBy(array, property) {
            var result = {};
            for (var i in array) {
                var currentName = array[i][property];
                result[currentName] = result[currentName] || [];
                result[currentName].push(array[i]);
            }
            return result;
        }


        //-----------------------TEST-------------------------------------

        var people = [
                { firstname: "Gosho", lastname: "Petrov", age: 32 },
                { firstname: "Bay", lastname: "Ivan", age: 81 },
                { firstname: "Jorko", lastname: "Dimitrov", age: 17 },
                { firstname: "Maria", lastname: "Milanova", age: 26 }];

        function Test() {
            var groupedByFname = groupBy(people, "firstname");

            jsConsole.writeLine("Grouped by firstname: ");
            for (var person in groupedByFname) {
                jsConsole.writeLine(person);
            }
        }
        function Test2() {
            var groupedByAge = groupBy(people, "age");

            jsConsole.writeLine("Grouped by age: ");
            for (var person in groupedByAge) {
                jsConsole.writeLine(person);
            }
        }


    </script>
</body>
</html>
